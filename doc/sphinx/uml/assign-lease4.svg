<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1375" height="1372" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="none" style="width:1375px;height:1372px" version="1.1" viewBox="0 0 1375 1372" zoomAndPan="magnify"><defs><filter id="f1hqawhmrx3191" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text x="535" y="17.402" fill="#000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="287">DHCPv4 Assign Lease (Kea 1.8.0)</text><rect width="445" height="374.86" x="493" y="442.199" fill="#FFF" filter="url(#f1hqawhmrx3191)" style="stroke:#000;stroke-width:1.5"/><text x="644.5" y="457.734" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142">INIT-REBOOT state</text><rect width="158" height="263.36" x="7" y="1092.059" fill="#FFF" filter="url(#f1hqawhmrx3191)" style="stroke:#000;stroke-width:1.5"/><text x="31" y="1107.594" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110">Lease allocated</text><rect width="219" height="36.488" x="517.5" y="547.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="527.5" y="570.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="199">Get existing lease by client id</text><rect width="288" height="36.488" x="626" y="660.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="636" y="683.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="268">Get existing lease by hardware address</text><rect width="134" height="36.488" x="528" y="757.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="538" y="780.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114">Get authoritative</text><rect width="110" height="36.488" x="31" y="1198.419" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="41" y="1221.954" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90">update DDNS</text><rect width="87" height="36.488" x="42.5" y="1295.419" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="52.5" y="1318.954" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67">Send ACK</text><rect width="114" height="36.488" x="1205" y="28.199" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="1215" y="51.734" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94">Check Subnet</text><path fill="#FBFB77" d="M1080,33.6992 L1080,59.0098 A0,0 0 0 0 1080,59.0098 L1170,59.0098 A0,0 0 0 0 1170,59.0098 L1170,51.6992 L1205,46.1992 L1170,43.6992 L1170,43.6992 L1160,33.6992 L1080,33.6992 A0,0 0 0 0 1080,33.6992" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1160,33.6992 L1160,43.6992 L1170,43.6992 L1160,33.6992" style="stroke:#a80036;stroke-width:1"/><text x="1086" y="51.268" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69">entry point</text><rect width="106" height="36.488" x="1046" y="125.199" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="1056" y="148.734" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86">Get server id</text><rect width="74" height="36.488" x="849" y="222.199" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="859" y="245.734" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54">Get hint</text><rect width="258" height="36.488" x="565" y="335.199" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="575" y="358.734" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="238">Get hardware address and client id</text><rect width="144" height="36.488" x="276" y="888.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="286" y="911.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124">Process hostname</text><rect width="114" height="36.488" x="204" y="985.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="214" y="1008.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94">Request lease</text><rect width="144" height="36.488" x="189" y="1101.419" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="199" y="1124.954" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124">No lease allocated</text><path fill="#FBFB77" d="M368,1106.9192 L368,1115.4192 L333.27,1119.4192 L368,1123.4192 L368,1132.2298 A0,0 0 0 0 368,1132.2298 L450,1132.2298 A0,0 0 0 0 450,1132.2298 L450,1116.9192 L440,1106.9192 L368,1106.9192 A0,0 0 0 0 368,1106.9192" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M440,1106.9192 L440,1116.9192 L450,1116.9192 L440,1106.9192" style="stroke:#a80036;stroke-width:1"/><text x="374" y="1124.488" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61">exit point</text><rect width="87" height="36.488" x="599.5" y="1198.419" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="609.5" y="1221.954" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67">Send NAK</text><path fill="#FBFB77" d="M722,1203.9192 L722,1212.4192 L686.59,1216.4192 L722,1220.4192 L722,1229.2298 A0,0 0 0 0 722,1229.2298 L804,1229.2298 A0,0 0 0 0 804,1229.2298 L804,1213.9192 L794,1203.9192 L722,1203.9192 A0,0 0 0 0 722,1203.9192" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M794,1203.9192 L794,1213.9192 L804,1213.9192 L794,1203.9192" style="stroke:#a80036;stroke-width:1"/><text x="728" y="1221.488" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61">exit point</text><rect width="106" height="36.488" x="1023" y="985.059" fill="#FEFECE" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1.5"/><text x="1033" y="1008.594" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86">No response</text><path fill="#FBFB77" d="M1164,990.5592 L1164,999.0592 L1129.16,1003.0592 L1164,1007.0592 L1164,1015.8698 A0,0 0 0 0 1164,1015.8698 L1246,1015.8698 A0,0 0 0 0 1246,1015.8698 L1246,1000.5592 L1236,990.5592 L1164,990.5592 A0,0 0 0 0 1164,990.5592" filter="url(#f1hqawhmrx3191)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1236,990.5592 L1236,1000.5592 L1246,1000.5592 L1236,990.5592" style="stroke:#a80036;stroke-width:1"/><text x="1170" y="1008.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61">exit point</text><path id="subnet-&gt;server_id" fill="none" d="M1232.48,64.3992 C1204.44,80.7492 1162.31,105.2992 1132.9,122.4392" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="1128.3 125.119 1138.091 124.058 1132.623 122.608 1134.073 117.14 1128.3 125.119" style="stroke:#a80036;stroke-width:1"/><path id="subnet-&gt;nak" fill="none" d="M1273.1,64.2792 C1284,82.7192 1299,113.3492 1299,142.1992 C1299,142.1992 1299,142.1992 1299,1120.4192 C1299,1186.7792 768.46,1163.0292 705,1182.4192 C694.58,1185.5992 683.88,1190.5892 674.36,1195.7292" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="669.79 1198.249 679.602 1197.4 674.167 1195.832 675.735 1190.397 669.79 1198.249" style="stroke:#a80036;stroke-width:1"/><text x="1300" y="626.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63">no subnet</text><path id="server_id-&gt;hint" fill="none" d="M1060.43,161.3992 C1022.99,178.0992 966.32,203.3692 927.82,220.5492" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="923.21 222.599 933.059 222.594 927.778 220.566 929.806 215.285 923.21 222.599" style="stroke:#a80036;stroke-width:1"/><path id="hint-&gt;ident" fill="none" d="M848.75,241.0892 C774.38,241.7392 611.66,247.8692 577,288.1992 C559.81,308.1992 581.08,323.0792 609.99,333.4192" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="615.08 335.169 607.873 328.457 610.352 333.541 605.268 336.02 615.08 335.169" style="stroke:#a80036;stroke-width:1"/><text x="578" y="301.768" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186">use requested address option</text><path id="hint-&gt;ident-1" fill="none" d="M856.42,258.2992 C821.75,278.3392 764.41,311.4992 727.95,332.5692" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="723.61 335.079 733.404 334.042 727.94 332.579 729.403 327.114 723.61 335.079" style="stroke:#a80036;stroke-width:1"/><text x="802" y="301.768" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">use client address</text><path id="hint-&gt;ident-2" fill="none" d="M908.07,258.3492 C922.64,271.7392 937.02,290.4892 925,305.1992 C911.63,321.5592 871.46,332.3692 828.28,339.4492" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="823.28 340.249 832.796 342.787 828.218 339.464 831.54 334.886 823.28 340.249" style="stroke:#a80036;stroke-width:1"/><text x="930" y="301.768" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45">no hint</text><path id="ident-&gt;init_reboot" fill="none" d="M694,371.5692 C694,387.3142 694,411.0567 694,431.1092 C694,433.6158 694,436.0647 694,438.4331 C694,439.6173 694,440.7814 694,441.9225" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="694 441.923 698 432.923 694 436.923 690 432.923 694 441.923" style="stroke:#a80036;stroke-width:1"/><text x="695" y="414.768" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220">requested address and no server id</text><path id="ident-&gt;hostname" fill="none" d="M571.53,371.2492 C471.99,388.6592 348,420.0792 348,468.5592 C348,468.5592 348,468.5592 348,776.0592 C348,813.4892 348,857.0192 348,882.7392" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="348 887.949 352 878.949 348 882.949 344 878.949 348 887.949" style="stroke:#a80036;stroke-width:1"/><path id="init_reboot-&gt;by_client_id" fill="none" d="M693.95,470.1292 C692.56,472.0792 661.57,515.5492 642.25,542.6592" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="639.25 546.869 647.729 541.859 642.151 542.797 641.213 537.218 639.25 546.869" style="stroke:#a80036;stroke-width:1"/><text x="673" y="513.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88">has a client id</text><path id="init_reboot-&gt;by_hw_addr" fill="none" d="M694.16,470.0592 C697.44,470.0892 750.21,470.9692 770,500.0592 C802.04,547.1592 787.68,618.8592 777.31,654.8392" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="775.82 659.879 782.201 652.377 777.233 655.083 774.527 650.116 775.82 659.879" style="stroke:#a80036;stroke-width:1"/><text x="790" y="570.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71">no client id</text><path id="by_client_id-&gt;authoritative" fill="none" d="M612.69,583.0592 C598.68,600.9192 578.27,630.4692 570,660.0592 C561.14,691.7592 573.59,729.1292 583.87,752.2092" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="586.03 756.909 585.922 747.061 583.949 752.363 578.647 750.39 586.03 756.909" style="stroke:#a80036;stroke-width:1"/><text x="571" y="683.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37">found</text><path id="by_client_id-&gt;by_hw_addr" fill="none" d="M622.24,583.2592 C619.47,597.2192 618.2,616.7092 628,630.0592 C636.84,642.0992 648.87,651.0992 662.21,657.8192" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="666.79 660.009 660.413 652.503 662.284 657.842 656.946 659.713 666.79 660.009" style="stroke:#a80036;stroke-width:1"/><text x="629" y="626.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62">not found</text><path id="by_hw_addr-&gt;authoritative" fill="none" d="M738.31,696.2592 C708.08,712.6692 662.6,737.3592 631.01,754.5092" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="626.46 756.979 636.278 756.206 630.856 754.596 632.465 749.173 626.46 756.979" style="stroke:#a80036;stroke-width:1"/><path id="authoritative-&gt;no_response" fill="none" d="M662.09,791.8592 C705.06,803.0892 761.47,819.8992 809,841.0592 C901.17,882.0792 1000.65,948.7092 1047.95,981.9092" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="1052.08 984.829 1047.017 976.382 1047.989 981.954 1042.417 982.927 1052.08 984.829" style="stroke:#a80036;stroke-width:1"/><text x="960" y="911.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233">not authoritative and no owned lease</text><path id="authoritative-&gt;nak" fill="none" d="M662.08,792.5792 C716.07,810.3592 783,844.5992 783,905.0592 C783,905.0592 783,905.0592 783,1120.4192 C783,1133.0992 719.28,1171.9092 677.82,1195.8192" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="673.38 1198.369 683.178 1197.37 677.72 1195.886 679.204 1190.427 673.38 1198.369" style="stroke:#a80036;stroke-width:1"/><text x="784" y="1008.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203">owned lease with hint mismatch</text><path id="authoritative-&gt;nak-1" fill="none" d="M571.78,793.3292 C544.53,815.7792 503,857.7492 503,905.0592 C503,905.0592 503,905.0592 503,1120.4192 C503,1165.8592 554.13,1191.0792 594.59,1203.9092" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="599.47 1205.419 592.043 1198.951 594.691 1203.95 589.692 1206.598 599.47 1205.419" style="stroke:#a80036;stroke-width:1"/><text x="504" y="1008.128" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208">authoritative and no owned lease</text><path id="authoritative-&gt;hostname" fill="none" d="M527.91,789.4292 C489.09,799.3592 440.63,815.6592 403,841.0592 C386.38,852.2692 371.81,869.7892 361.85,883.6592" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="358.91 887.839 367.369 882.796 361.795 883.755 360.835 878.18 358.91 887.839" style="stroke:#a80036;stroke-width:1"/><text x="404" y="854.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72">other cases</text><path id="hostname-&gt;allocate" fill="none" d="M332.04,924.4792 C317.45,940.4192 295.83,964.0292 280.28,981.0092" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="276.86 984.749 285.886 980.808 280.235 981.06 279.983 975.409 276.86 984.749" style="stroke:#a80036;stroke-width:1"/><path id="allocate-&gt;allocated" fill="none" d="M212.16,1021.1492 C194.16,1028.7392 174.22,1038.7792 158,1051.0592 C150.43,1056.7942 143.1831,1063.7023 136.5469,1070.8789 C133.2288,1074.4672 130.0633,1078.1226 127.0864,1081.732 C125.598,1083.5367 124.1567,1085.3299 122.767,1087.0975 C122.0722,1087.9813 121.3903,1088.8587 120.7219,1089.7279 C120.3876,1090.1625 120.0568,1090.595 119.7294,1091.0253 C119.5657,1091.2405 119.4028,1091.4551 119.2408,1091.6691 C119.1598,1091.7761 119.0791,1091.8829 118.9985,1091.9896" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="118.999 1091.99 127.614 1087.217 122.011 1087.999 121.229 1082.397 118.999 1091.99" style="stroke:#a80036;stroke-width:1"/><text x="159" y="1064.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93">lease allocated</text><path id="allocated-&gt;ddns" fill="none" d="M100.99,1120.4892 C100.68,1122.4392 93.91,1165.3192 89.58,1192.7692" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="88.74 1198.039 94.103 1189.779 89.525 1193.101 86.203 1188.523 88.74 1198.039" style="stroke:#a80036;stroke-width:1"/><path id="ddns-&gt;ack" fill="none" d="M86,1234.8392 C86,1250.3792 86,1273.1992 86,1290.0792" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="86 1295.109 90 1286.109 86 1290.109 82 1286.109 86 1295.109" style="stroke:#a80036;stroke-width:1"/><path id="allocate-&gt;failed" fill="none" d="M261,1021.4292 C261,1041.4392 261,1074.3792 261,1096.2292" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="261 1101.259 265 1092.259 261 1096.259 257 1092.259 261 1101.259" style="stroke:#a80036;stroke-width:1"/><text x="262" y="1064.628" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">no lease allocated</text><path id="failed-&gt;nak" fill="none" d="M329.74,1137.5092 C406.04,1156.4892 527.27,1186.6392 594.35,1203.3192" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="599.48 1204.599 591.719 1198.536 594.629 1203.387 589.779 1206.297 599.48 1204.599" style="stroke:#a80036;stroke-width:1"/></g></svg>